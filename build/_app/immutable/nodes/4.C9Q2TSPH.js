import{s as E,n as q,r as I,c as M,d as j}from"../chunks/scheduler.DBTPyL-f.js";import{S as k,i as $,e as f,s as T,c as v,a as C,m as N,f as x,d as O,n,g as D,h as m,o as w,p as S,q as H}from"../chunks/index.CQsuM-QA.js";import{m as P}from"../chunks/store.C0NH_U-A.js";import{g as J}from"../chunks/entry.BQepC44m.js";const G=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));function L(c){let r,l,h='<h1 class="kenia-regular svelte-1snn151">frens go</h1> <p class="montserrat-alternates-regular svelte-1snn151">un chat para todxs</p>',u,e,t,_,s,o,i,g="chatear",b,y;return{c(){r=f("div"),l=f("div"),l.innerHTML=h,u=T(),e=f("form"),t=f("input"),_=T(),s=f("input"),o=T(),i=f("button"),i.textContent=g,this.h()},l(a){r=v(a,"DIV",{class:!0});var p=C(r);l=v(p,"DIV",{class:!0,"data-svelte-h":!0}),N(l)!=="svelte-13q5o3c"&&(l.innerHTML=h),u=x(p),e=v(p,"FORM",{class:!0});var d=C(e);t=v(d,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,minlength:!0,pattern:!0}),_=x(d),s=v(d,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,minlength:!0,pattern:!0}),o=x(d),i=v(d,"BUTTON",{class:!0,"data-svelte-h":!0}),N(i)!=="svelte-1njdab6"&&(i.textContent=g),d.forEach(O),p.forEach(O),this.h()},h(){n(l,"class","header svelte-1snn151"),n(t,"class","montserrat-alternates-bold svelte-1snn151"),n(t,"type","text"),n(t,"placeholder","Escribe tu nick..."),n(t,"maxlength","25"),n(t,"minlength","3"),t.required=!0,n(t,"pattern","^(\\w|\\s|ñ)+$"),n(s,"class","montserrat-alternates-bold svelte-1snn151"),n(s,"type","password"),n(s,"placeholder","Escribe la clave"),n(s,"maxlength","25"),n(s,"minlength","3"),s.required=!0,n(s,"pattern","^(\\w|\\s|ñ)+$"),n(i,"class","montserrat-alternates-medium svelte-1snn151"),n(e,"class","svelte-1snn151"),n(r,"class","container svelte-1snn151")},m(a,p){D(a,r,p),m(r,l),m(r,u),m(r,e),m(e,t),w(t,c[0]),m(e,_),m(e,s),w(s,c[1]),m(e,o),m(e,i),b||(y=[S(t,"input",c[3]),S(s,"input",c[4]),S(e,"submit",H(c[2]))],b=!0)},p(a,[p]){p&1&&t.value!==a[0]&&w(t,a[0]),p&2&&s.value!==a[1]&&w(s,a[1])},i:q,o:q,d(a){a&&O(r),b=!1,I(y)}}}let U=/^(\w|\s|ñ)+$/;const V="https://frensgo.lat";function z(c,r,l){let h;M(c,P,o=>l(5,h=o));let u="",e="";async function t(){if(!u||!e)return;const o=u.trim().replace(/\s\s+/," "),i=e.trim().replace(/\s\s+/," ");if(!U.test(o)||!U.test(i)||o.length>25||o.length>25)return;const g=await fetch(`${V}/login`,{method:"POST",body:JSON.stringify({username:o,password:i})});if(g.ok){const b=await g.text(),{username:y,role:a}=JSON.parse(b);j(P,h={username:y,role:a,room:""},h),J("/rooms")}else alert("los datos son incorrectos")}function _(){u=this.value,l(0,u)}function s(){e=this.value,l(1,e)}return[u,e,t,_,s]}class K extends k{constructor(r){super(),$(this,r,z,L,E,{})}}export{K as component,G as universal};
