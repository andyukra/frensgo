import{m as C,s as N,r as j}from"../chunks/index.DP4uLY8N.js";import{s as D,n as I,c as P,d as w}from"../chunks/scheduler.CHVDA16w.js";import{S as J,i as x,e as g,t as E,s as H,c as v,a as p,b as S,d,f as L,n as y,g as q,h as _,p as G,j as z,y as M,z as V,A as W,k as U,u as K,l as O,B as F,C as Q,w as X}from"../chunks/index.Dae8QIfg.js";import{N as Y,e as R}from"../chunks/Navbar.DDOghGJX.js";import{g as Z}from"../chunks/entry.BNqPOsFW.js";const $="https://frensgo.lat";async function ee(){let o;C.subscribe(l=>o=l),N.subscribe(l=>l);const t=await fetch(`${$}/getRooms`);if(!t.ok)throw j(307,"/");const r=await t.text(),e=JSON.parse(r);if(o)return{data:e};throw j(307,"/")}const ue=Object.freeze(Object.defineProperty({__proto__:null,load:ee},Symbol.toStringTag,{value:"Module"}));function te(o){let t,r,e,l,i,a,h,s,c,n,m;return{c(){t=g("article"),r=g("h2"),e=E(o[0]),l=H(),i=g("div"),a=g("p"),h=E(o[2]),s=E(" / "),c=E(o[1]),this.h()},l(u){t=v(u,"ARTICLE",{class:!0});var f=p(t);r=v(f,"H2",{class:!0});var b=p(r);e=S(b,o[0]),b.forEach(d),l=L(f),i=v(f,"DIV",{});var T=p(i);a=v(T,"P",{class:!0});var k=p(a);h=S(k,o[2]),s=S(k," / "),c=S(k,o[1]),k.forEach(d),T.forEach(d),f.forEach(d),this.h()},h(){y(r,"class","montserrat-alternates-bold svelte-zk5aq3"),y(a,"class","montserrat-alternates-bold svelte-zk5aq3"),y(t,"class","svelte-zk5aq3")},m(u,f){q(u,t,f),_(t,r),_(r,e),_(t,l),_(t,i),_(i,a),_(a,h),_(a,s),_(a,c),n||(m=G(t,"click",o[5]),n=!0)},p(u,[f]){f&1&&z(e,u[0]),f&4&&z(h,u[2]),f&2&&z(c,u[1])},i:I,o:I,d(u){u&&d(t),n=!1,m()}}}const se="wss://frensgo.lat";function ae(o,t,r){let e,l;P(o,C,m=>r(6,e=m)),P(o,N,m=>r(7,l=m));let{name:i}=t,{maxUsers:a}=t,{connectedUsers:h}=t,{value:s}=t;function c(m){e&&(w(C,e={...e,room:m},e),w(N,l=new WebSocket(`${se}/chat?room=${e.room}&nick=${e.username}`),l),w(N,l.onmessage=u=>{const{type:f,id:b}=JSON.parse(u.data);e.id||w(C,e={...e,id:b},e),f&&f==="CONNECTED"&&Z("/chat")},l))}const n=()=>c(s);return o.$$set=m=>{"name"in m&&r(0,i=m.name),"maxUsers"in m&&r(1,a=m.maxUsers),"connectedUsers"in m&&r(2,h=m.connectedUsers),"value"in m&&r(3,s=m.value)},[i,a,h,s,c,n]}class ne extends J{constructor(t){super(),x(this,t,ae,te,D,{name:0,maxUsers:1,connectedUsers:2,value:3})}}function A(o,t,r){const e=o.slice();return e[1]=t[r],e}function B(o){let t,r;return t=new ne({props:{name:o[1].name,value:o[1].value,maxUsers:o[1].maxUsers,connectedUsers:o[1].connectedUsers}}),{c(){M(t.$$.fragment)},l(e){V(t.$$.fragment,e)},m(e,l){W(t,e,l),r=!0},p(e,l){const i={};l&1&&(i.name=e[1].name),l&1&&(i.value=e[1].value),l&1&&(i.maxUsers=e[1].maxUsers),l&1&&(i.connectedUsers=e[1].connectedUsers),t.$set(i)},i(e){r||(U(t.$$.fragment,e),r=!0)},o(e){O(t.$$.fragment,e),r=!1},d(e){F(t,e)}}}function re(o){let t,r,e,l;t=new Y({});let i=R(o[0].data),a=[];for(let s=0;s<i.length;s+=1)a[s]=B(A(o,i,s));const h=s=>O(a[s],1,1,()=>{a[s]=null});return{c(){M(t.$$.fragment),r=H(),e=g("section");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){V(t.$$.fragment,s),r=L(s),e=v(s,"SECTION",{class:!0});var c=p(e);for(let n=0;n<a.length;n+=1)a[n].l(c);c.forEach(d),this.h()},h(){y(e,"class","svelte-1alcno")},m(s,c){W(t,s,c),q(s,r,c),q(s,e,c);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(e,null);l=!0},p(s,[c]){if(c&1){i=R(s[0].data);let n;for(n=0;n<i.length;n+=1){const m=A(s,i,n);a[n]?(a[n].p(m,c),U(a[n],1)):(a[n]=B(m),a[n].c(),U(a[n],1),a[n].m(e,null))}for(X(),n=i.length;n<a.length;n+=1)h(n);K()}},i(s){if(!l){U(t.$$.fragment,s);for(let c=0;c<i.length;c+=1)U(a[c]);l=!0}},o(s){O(t.$$.fragment,s),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)O(a[c]);l=!1},d(s){s&&(d(r),d(e)),F(t,s),Q(a,s)}}}function oe(o,t,r){let{data:e}=t;return o.$$set=l=>{"data"in l&&r(0,e=l.data)},[e]}class he extends J{constructor(t){super(),x(this,t,oe,re,D,{data:0})}}export{he as component,ue as universal};
