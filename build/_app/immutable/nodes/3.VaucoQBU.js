import{m as Te,s as ie,r as et,a as be,b as we,c as $e,d as Ee,u as tt}from"../chunks/index.Darzg56o.js";import{s as he,l as st,y as re,n as G,c as N,o as Ce,d as $,z as te,A as We,r as Re,f as it}from"../chunks/scheduler.CHVDA16w.js";import{S as me,i as pe,e as y,s as P,t as oe,c as k,a as T,f as U,b as ne,d as m,n as c,g as L,h as g,p as J,j as ve,D as Se,r as Pe,E as ae,m as W,C as Me,y as ce,z as ue,A as fe,o as Ue,q as at,k as z,l as K,u as Ae,B as de,w as Ie}from"../chunks/index.Dae8QIfg.js";import{e as le,N as lt}from"../chunks/Navbar.DJUwmEJ3.js";import{g as rt}from"../chunks/entry.oMPMOxvS.js";function ot(){let i,e;if(Te.subscribe(s=>i=s),ie.subscribe(s=>e=s),!i||!e)throw et(307,"/")}const Bt=Object.freeze(Object.defineProperty({__proto__:null,load:ot},Symbol.toStringTag,{value:"Module"}));class F extends HTMLElement{constructor(){super(),this.isIframeLoaded=!1,this.setupDom()}static get observedAttributes(){return["videoid","playlistid"]}connectedCallback(){this.addEventListener("pointerover",F.warmConnections,{once:!0}),this.addEventListener("click",()=>this.addIframe())}get videoId(){return encodeURIComponent(this.getAttribute("videoid")||"")}set videoId(e){this.setAttribute("videoid",e)}get playlistId(){return encodeURIComponent(this.getAttribute("playlistid")||"")}set playlistId(e){this.setAttribute("playlistid",e)}get videoTitle(){return this.getAttribute("videotitle")||"Video"}set videoTitle(e){this.setAttribute("videotitle",e)}get videoPlay(){return this.getAttribute("videoPlay")||"Play"}set videoPlay(e){this.setAttribute("videoPlay",e)}get videoStartAt(){return this.getAttribute("videoStartAt")||"0"}get autoLoad(){return this.hasAttribute("autoload")}get noCookie(){return this.hasAttribute("nocookie")}get posterQuality(){return this.getAttribute("posterquality")||"hqdefault"}get posterLoading(){return this.getAttribute("posterloading")||"lazy"}get params(){return`start=${this.videoStartAt}&${this.getAttribute("params")}`}set params(e){this.setAttribute("params",e)}setupDom(){const e=this.attachShadow({mode:"open"});let s="";window.liteYouTubeNonce&&(s=`nonce="${window.liteYouTubeNonce}"`),e.innerHTML=`
      <style ${s}>
        :host {
          contain: content;
          display: block;
          position: relative;
          width: 100%;
          padding-bottom: calc(100% / (16 / 9));
        }

        @media (max-width: 40em) {
          :host([short]) {
            padding-bottom: calc(100% / (9 / 16));
          }
        }

        #frame, #fallbackPlaceholder, iframe {
          position: absolute;
          width: 100%;
          height: 100%;
          left: 0;
        }

        #frame {
          cursor: pointer;
        }

        #fallbackPlaceholder {
          object-fit: cover;
        }

        #frame::before {
          content: '';
          display: block;
          position: absolute;
          top: 0;
          background-image: linear-gradient(180deg, #111 -20%, transparent 90%);
          height: 60px;
          width: 100%;
          z-index: 1;
        }

        #playButton {
          width: 68px;
          height: 48px;
          background-color: transparent;
          background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 68 48"><path d="M66.52 7.74c-.78-2.93-2.49-5.41-5.42-6.19C55.79.13 34 0 34 0S12.21.13 6.9 1.55c-2.93.78-4.63 3.26-5.42 6.19C.06 13.05 0 24 0 24s.06 10.95 1.48 16.26c.78 2.93 2.49 5.41 5.42 6.19C12.21 47.87 34 48 34 48s21.79-.13 27.1-1.55c2.93-.78 4.64-3.26 5.42-6.19C67.94 34.95 68 24 68 24s-.06-10.95-1.48-16.26z" fill="red"/><path d="M45 24 27 14v20" fill="white"/></svg>');
          z-index: 1;
          border: 0;
          border-radius: inherit;
        }

        #playButton:before {
          content: '';
          border-style: solid;
          border-width: 11px 0 11px 19px;
          border-color: transparent transparent transparent #fff;
        }

        #playButton,
        #playButton:before {
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate3d(-50%, -50%, 0);
          cursor: inherit;
        }

        /* Post-click styles */
        .activated {
          cursor: unset;
        }

        #frame.activated::before,
        #frame.activated > #playButton {
          display: none;
        }
      </style>
      <div id="frame">
        <picture>
          <source id="webpPlaceholder" type="image/webp">
          <source id="jpegPlaceholder" type="image/jpeg">
          <img id="fallbackPlaceholder" referrerpolicy="origin" loading="lazy">
        </picture>
        <button id="playButton"></button>
      </div>
    `,this.domRefFrame=e.querySelector("#frame"),this.domRefImg={fallback:e.querySelector("#fallbackPlaceholder"),webp:e.querySelector("#webpPlaceholder"),jpeg:e.querySelector("#jpegPlaceholder")},this.domRefPlayButton=e.querySelector("#playButton")}setupComponent(){this.initImagePlaceholder(),this.domRefPlayButton.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),this.setAttribute("title",`${this.videoPlay}: ${this.videoTitle}`),(this.autoLoad||this.isYouTubeShort())&&this.initIntersectionObserver()}attributeChangedCallback(e,s,t){switch(e){case"videoid":case"playlistid":case"videoTitle":case"videoPlay":{s!==t&&(this.setupComponent(),this.domRefFrame.classList.contains("activated")&&(this.domRefFrame.classList.remove("activated"),this.shadowRoot.querySelector("iframe").remove(),this.isIframeLoaded=!1));break}}}addIframe(e=!1){if(!this.isIframeLoaded){let s=e?0:1;const t=this.noCookie?"-nocookie":"";let a;this.playlistId?a=`?listType=playlist&list=${this.playlistId}&`:a=`${this.videoId}?`,this.isYouTubeShort()&&(this.params=`loop=1&mute=1&modestbranding=1&playsinline=1&rel=0&enablejsapi=1&playlist=${this.videoId}`,s=1);const r=`
<iframe frameborder="0" title="${this.videoTitle}"
  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen
  src="https://www.youtube${t}.com/embed/${a}autoplay=${s}&${this.params}"
></iframe>`;this.domRefFrame.insertAdjacentHTML("beforeend",r),this.domRefFrame.classList.add("activated"),this.isIframeLoaded=!0,this.attemptShortAutoPlay(),this.dispatchEvent(new CustomEvent("liteYoutubeIframeLoaded",{detail:{videoId:this.videoId},bubbles:!0,cancelable:!0}))}}initImagePlaceholder(){var t,a;const e=`https://i.ytimg.com/vi_webp/${this.videoId}/${this.posterQuality}.webp`,s=`https://i.ytimg.com/vi/${this.videoId}/${this.posterQuality}.jpg`;this.domRefImg.fallback.loading=this.posterLoading,this.domRefImg.webp.srcset=e,this.domRefImg.jpeg.srcset=s,this.domRefImg.fallback.src=s,this.domRefImg.fallback.setAttribute("aria-label",`${this.videoPlay}: ${this.videoTitle}`),(a=(t=this.domRefImg)==null?void 0:t.fallback)==null||a.setAttribute("alt",`${this.videoPlay}: ${this.videoTitle}`)}initIntersectionObserver(){const e={root:null,rootMargin:"0px",threshold:0};new IntersectionObserver((t,a)=>{t.forEach(r=>{r.isIntersecting&&!this.isIframeLoaded&&(F.warmConnections(),this.addIframe(!0),a.unobserve(this))})},e).observe(this)}attemptShortAutoPlay(){this.isYouTubeShort()&&setTimeout(()=>{var e,s;(s=(e=this.shadowRoot.querySelector("iframe"))==null?void 0:e.contentWindow)==null||s.postMessage('{"event":"command","func":"playVideo","args":""}',"*")},2e3)}isYouTubeShort(){return this.getAttribute("short")===""&&window.matchMedia("(max-width: 40em)").matches}static addPrefetch(e,s){const t=document.createElement("link");t.rel=e,t.href=s,t.crossOrigin="true",document.head.append(t)}static warmConnections(){F.isPreconnected||window.liteYouTubeIsPreconnected||(F.addPrefetch("preconnect","https://i.ytimg.com/"),F.addPrefetch("preconnect","https://s.ytimg.com"),F.addPrefetch("preconnect","https://www.youtube.com"),F.addPrefetch("preconnect","https://www.google.com"),F.addPrefetch("preconnect","https://googleads.g.doubleclick.net"),F.addPrefetch("preconnect","https://static.doubleclick.net"),F.isPreconnected=!0,window.liteYouTubeIsPreconnected=!0)}}F.isPreconnected=!1;customElements.define("lite-youtube",F);function Le(i){let e;return{c(){e=y("i"),this.h()},l(s){e=k(s,"I",{class:!0}),T(e).forEach(m),this.h()},h(){c(e,"class","fa-solid fa-circle-user svelte-1wimjgg")},m(s,t){L(s,e,t)},d(s){s&&m(e)}}}function nt(i){let e;return{c(){e=y("lite-youtube"),this.h()},l(s){e=k(s,"LITE-YOUTUBE",{class:!0,videoid:!0}),T(e).forEach(m),this.h()},h(){Se(e,"class","ytFrame svelte-1wimjgg"),Se(e,"videoid",i[1])},m(s,t){L(s,e,t)},p(s,t){t&2&&Se(e,"videoid",s[1])},d(s){s&&m(e)}}}function ct(i){let e,s,t,a,r;return{c(){e=y("img"),this.h()},l(l){e=k(l,"IMG",{src:!0,alt:!0,style:!0,class:!0}),this.h()},h(){te(e.src,s=i[0].body)||c(e,"src",s),c(e,"alt","Imagen subida Por un usuario"),c(e,"style",t=`cursor:pointer;${i[0].type===i[3].STICKER?"width:150px;":""}`),c(e,"class","svelte-1wimjgg")},m(l,u){L(l,e,u),a||(r=J(e,"click",i[9]),a=!0)},p(l,u){u&1&&!te(e.src,s=l[0].body)&&c(e,"src",s),u&1&&t!==(t=`cursor:pointer;${l[0].type===l[3].STICKER?"width:150px;":""}`)&&c(e,"style",t)},d(l){l&&m(e),a=!1,r()}}}function ut(i){let e,s;return{c(){e=y("audio"),this.h()},l(t){e=k(t,"AUDIO",{src:!0}),T(e).forEach(m),this.h()},h(){te(e.src,s=i[0].body)||c(e,"src",s),e.controls=!0},m(t,a){L(t,e,a)},p(t,a){a&1&&!te(e.src,s=t[0].body)&&c(e,"src",s)},d(t){t&&m(e)}}}function ft(i){let e,s=i[0].body+"",t;return{c(){e=y("p"),t=oe(s),this.h()},l(a){e=k(a,"P",{class:!0});var r=T(e);t=ne(r,s),r.forEach(m),this.h()},h(){c(e,"class","montserrat-alternates-regular svelte-1wimjgg")},m(a,r){L(a,e,r),g(e,t)},p(a,r){r&1&&s!==(s=a[0].body+"")&&ve(t,s)},d(a){a&&m(e)}}}function dt(i){let e,s,t,a,r=decodeURI(i[0].username)+"",l,u,A,n,p,E,S;st(i[8]);let o=i[0].type!==i[3].BOT&&Le();function f(_,v){if(_[0].type===_[3].ROOM||_[0].type===_[3].BOT)return ft;if(_[0].type===_[3].AUDIO)return ut;if(_[0].type===_[3].IMAGE||_[0].type===_[3].STICKER)return ct;if(_[0].type===_[3].YT)return nt}let b=f(i),d=b&&b(i);return{c(){e=y("article"),s=y("div"),o&&o.c(),t=P(),a=y("h4"),l=oe(r),u=P(),A=y("div"),n=y("div"),d&&d.c(),this.h()},l(_){e=k(_,"ARTICLE",{class:!0,style:!0});var v=T(e);s=k(v,"DIV",{class:!0});var I=T(s);o&&o.l(I),t=U(I),a=k(I,"H4",{class:!0});var D=T(a);l=ne(D,r),D.forEach(m),I.forEach(m),u=U(v),A=k(v,"DIV",{class:!0});var B=T(A);n=k(B,"DIV",{class:!0});var M=T(n);d&&d.l(M),M.forEach(m),B.forEach(m),v.forEach(m),this.h()},h(){c(a,"class","montserrat-alternates-bold svelte-1wimjgg"),c(s,"class","username svelte-1wimjgg"),c(n,"class",re(`body ${i[7]()}`)+" svelte-1wimjgg"),c(A,"class","bodyBX"),c(e,"class",re(`${i[4]?"me":""}`)+" svelte-1wimjgg"),c(e,"style",p=i[6](i[2]))},m(_,v){L(_,e,v),g(e,s),o&&o.m(s,null),g(s,t),g(s,a),g(a,l),g(e,u),g(e,A),g(A,n),d&&d.m(n,null),E||(S=J(window,"resize",i[8]),E=!0)},p(_,[v]){_[0].type!==_[3].BOT?o||(o=Le(),o.c(),o.m(s,t)):o&&(o.d(1),o=null),v&1&&r!==(r=decodeURI(_[0].username)+"")&&ve(l,r),b===(b=f(_))&&d?d.p(_,v):(d&&d.d(1),d=b&&b(_),d&&(d.c(),d.m(n,null))),v&4&&p!==(p=_[6](_[2]))&&c(e,"style",p)},i:G,o:G,d(_){_&&m(e),o&&o.d(),d&&d.d(),E=!1,S()}}}function ht(i,e,s){let t,a,r;N(i,be,d=>s(10,t=d)),N(i,we,d=>s(11,a=d)),N(i,Te,d=>s(12,r=d));var l=(d=>(d.ROOM="room",d.BOT="bot",d.AUDIO="audio",d.IMAGE="image",d.YT="yt",d.STICKER="sticker",d))(l||{});let{data:u}=e,A=null;Ce(()=>{if(/^https:\/\/(www\.)?youtu.+\//.test(u.body)){const d=u.body.match(/(\.be\/|v=).{11}/);s(1,A=d[0].replace(d[1],"")),s(0,u.type="yt",u)}});const n=r.username===decodeURI(u.username);let p;function E(d){$(we,a=d.src,a),$(be,t=!0,t)}function S(d){if(u.type==="bot")return"";let _="";return p<500&&(_+="flex-direction:column;gap:0.4rem !important;",n?_+="align-items:end;":_+="align-items:start;"),_}function o(){switch(u.type){case"bot":return"typeBot";case"audio":return"typeAudio";case"image":return"typeImg";case"sticker":return"typeBot";default:return""}}function f(){s(2,p=window.outerWidth)}const b=d=>E(d.target);return i.$$set=d=>{"data"in d&&s(0,u=d.data)},[u,A,p,l,n,E,S,o,f,b]}class mt extends me{constructor(e){super(),pe(this,e,ht,dt,he,{data:0})}}function De(i){let e,s,t,a='<p class="montserrat-alternates-bold">cancelar</p> <i class="fas fa-times"></i>',r,l;function u(p,E){return p[3]?gt:pt}let A=u(i),n=A(i);return{c(){e=y("ul"),n.c(),s=P(),t=y("li"),t.innerHTML=a,this.h()},l(p){e=k(p,"UL",{class:!0});var E=T(e);n.l(E),s=U(E),t=k(E,"LI",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-v7ez2z"&&(t.innerHTML=a),E.forEach(m),this.h()},h(){c(t,"class","cancel svelte-vf38tq"),c(e,"class","opts svelte-vf38tq")},m(p,E){L(p,e,E),n.m(e,null),g(e,s),g(e,t),r||(l=J(t,"click",i[4]),r=!0)},p(p,E){A===(A=u(p))&&n?n.p(p,E):(n.d(1),n=A(p),n&&(n.c(),n.m(e,s)))},d(p){p&&m(e),n.d(),r=!1,l()}}}function pt(i){let e,s='<p class="montserrat-alternates-bold">silenciar</p> <i class="fas fa-volume-mute"></i>',t,a;return{c(){e=y("li"),e.innerHTML=s,this.h()},l(r){e=k(r,"LI",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-nq1i3d"&&(e.innerHTML=s),this.h()},h(){c(e,"class","silence svelte-vf38tq")},m(r,l){L(r,e,l),t||(a=J(e,"click",i[8]),t=!0)},p:G,d(r){r&&m(e),t=!1,a()}}}function gt(i){let e,s='<p class="montserrat-alternates-bold">quitar silencio</p> <i class="fas fa-volume-up"></i>',t,a;return{c(){e=y("li"),e.innerHTML=s,this.h()},l(r){e=k(r,"LI",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1kkyzxq"&&(e.innerHTML=s),this.h()},h(){c(e,"class","silence svelte-vf38tq")},m(r,l){L(r,e,l),t||(a=J(e,"click",i[7]),t=!0)},p:G,d(r){r&&m(e),t=!1,a()}}}function bt(i){let e,s,t,a,r=decodeURI(i[1].username)+"",l,u,A,n,p,E,S,o=i[2]&&De(i);return{c(){e=y("article"),s=y("i"),t=P(),a=y("h4"),l=oe(r),u=P(),A=y("i"),n=P(),o&&o.c(),p=Pe(),this.h()},l(f){e=k(f,"ARTICLE",{"data-id":!0,class:!0});var b=T(e);s=k(b,"I",{class:!0}),T(s).forEach(m),t=U(b),a=k(b,"H4",{class:!0});var d=T(a);l=ne(d,r),d.forEach(m),u=U(b),A=k(b,"I",{class:!0}),T(A).forEach(m),b.forEach(m),n=U(f),o&&o.l(f),p=Pe(),this.h()},h(){c(s,"class","fa-solid fa-circle-user svelte-vf38tq"),c(a,"class","montserrat-alternates-bold svelte-vf38tq"),c(A,"class","fa-solid fa-circle-question svelte-vf38tq"),c(e,"data-id",i[0]),c(e,"class","svelte-vf38tq"),ae(e,"muted",i[3])},m(f,b){L(f,e,b),g(e,s),g(e,t),g(e,a),g(a,l),g(e,u),g(e,A),L(f,n,b),o&&o.m(f,b),L(f,p,b),E||(S=J(e,"click",i[4]),E=!0)},p(f,[b]){b&2&&r!==(r=decodeURI(f[1].username)+"")&&ve(l,r),b&1&&c(e,"data-id",f[0]),b&8&&ae(e,"muted",f[3]),f[2]?o?o.p(f,b):(o=De(f),o.c(),o.m(p.parentNode,p)):o&&(o.d(1),o=null)},i:G,o:G,d(f){f&&(m(e),m(n),m(p)),o&&o.d(f),E=!1,S()}}}function vt(i,e,s){let t,a;N(i,$e,f=>s(9,t=f)),N(i,Te,f=>s(10,a=f));let{id:r}=e,{data:l}=e,u=!1;function A(){a.username!==l.username&&s(2,u=!u)}let n=!1;t.has(l.username)&&(n=!0);function p(f){a.username!==f&&(t.add(f),s(3,n=!0),s(2,u=!1))}function E(f){a.username===f||!t.delete(f)||(s(3,n=!1),s(2,u=!1))}const S=()=>E(l.username),o=()=>p(l.username);return i.$$set=f=>{"id"in f&&s(0,r=f.id),"data"in f&&s(1,l=f.data)},[r,l,u,n,A,p,E,S,o]}class _t extends me{constructor(e){super(),pe(this,e,vt,bt,he,{id:0,data:1})}}function yt(i){let e,s,t,a;return{c(){e=y("section"),s=y("article"),t=y("h4"),a=oe(i[0]),this.h()},l(r){e=k(r,"SECTION",{class:!0});var l=T(e);s=k(l,"ARTICLE",{class:!0});var u=T(s);t=k(u,"H4",{class:!0});var A=T(t);a=ne(A,i[0]),A.forEach(m),u.forEach(m),l.forEach(m),this.h()},h(){c(t,"class","montserrat-alternates-medium svelte-1b74fp1"),c(s,"class","svelte-1b74fp1"),c(e,"class","svelte-1b74fp1")},m(r,l){L(r,e,l),g(e,s),g(s,t),g(t,a)},p(r,[l]){l&1&&ve(a,r[0])},i:G,o:G,d(r){r&&m(e)}}}function kt(i,e,s){let t;N(i,Ee,l=>s(2,t=l));let{msg:a}=e,{time:r}=e;return Ce(()=>{document.onkeydown=()=>!1}),We(()=>{document.onkeydown=null}),setTimeout(()=>$(Ee,t=!1,t),r),i.$$set=l=>{"msg"in l&&s(0,a=l.msg),"time"in l&&s(1,r=l.time)},[a,r]}class At extends me{constructor(e){super(),pe(this,e,kt,yt,he,{msg:0,time:1})}}const Be=["https://i.pinimg.com/564x/26/01/7e/26017ea921bf3f92ee09017d7a008c4c.jpg","https://i.pinimg.com/564x/b2/a5/22/b2a522fa576b9e883e8040d9f4971d57.jpg","https://i.pinimg.com/564x/e1/68/df/e168df965c1300c16a78fa6479f0f84b.jpg","https://i.pinimg.com/236x/3b/c1/90/3bc190d0fe1e5ab694eb48bb679617d6.jpg","https://i.pinimg.com/236x/0e/c5/26/0ec526b2677e3f4b59575b39e0c80c1a.jpg","https://i.pinimg.com/236x/f4/b6/ed/f4b6ed6ed97a5d568d18d9466b517e4d.jpg","https://i.pinimg.com/236x/c5/cb/6f/c5cb6fb8e5e9c0121c35bb63703553ff.jpg","https://i.pinimg.com/236x/3b/6a/f0/3b6af08fc3770a8323787a98b2295046.jpg","https://i.pinimg.com/236x/8e/a8/4a/8ea84ae43f94280f0f88b7a6bb640ca5.jpg","https://i.pinimg.com/236x/58/f6/a9/58f6a9167e1374a4ae98f560fb6bef08.jpg","https://i.pinimg.com/236x/6e/74/df/6e74df3fb594f746693d43aef71e7c20.jpg","https://i.pinimg.com/236x/81/04/79/8104795db0b5220f331b51b089aa1edb.jpg","https://i.pinimg.com/236x/4e/3c/47/4e3c47cb9ad9d86968ea5b1a8eee761f.jpg","https://i.pinimg.com/236x/f0/96/05/f09605c6a782601c5a516dc513fec8ab.jpg","https://i.pinimg.com/236x/ab/e5/28/abe528cc836c08c02ed39b4264bbfa2a.jpg","https://i.pinimg.com/236x/ae/e2/a0/aee2a0b025b7e676d491c58e64c0c0e0.jpg","https://i.pinimg.com/236x/ab/0f/f7/ab0ff72902f0ed5be507bb542f14e04c.jpg","https://i.pinimg.com/236x/5e/50/d3/5e50d303bff603bac964e9e1d70cc263.jpg","https://i.pinimg.com/236x/9e/1f/03/9e1f03aa60d4e8919484de08c4741c7d.jpg","https://i.pinimg.com/236x/4b/8c/f1/4b8cf19584ede706ad857b998cc39332.jpg","https://i.pinimg.com/236x/df/59/34/df5934ad681ad29edc0bc2a88ab538dc.jpg","https://i.pinimg.com/236x/b9/d2/4a/b9d24af77da570a5d304950974f5269e.jpg","https://media.tenor.com/Eet92-jhr3MAAAAj/hasher-happy-sticker.gif","https://media.tenor.com/rOZE9d6XIWIAAAAi/line.gif","https://media.tenor.com/eM0K9-K-hcUAAAAi/crying.gif","https://media.tenor.com/7VE1yyfi5CIAAAAi/fighting-addoil.gif","https://media.tenor.com/rXbN_gwjc7AAAAAi/alice-sticker-alice-animated.gif","https://media.tenor.com/5Ada5-x6Vz8AAAAj/cute.gif","https://media.tenor.com/OY6bIk0asR4AAAAj/quby.gif","https://media.tenor.com/pB8dRaVDsBwAAAAj/tkthao219-quby.gif","https://media.tenor.com/J2bPcmfvfaUAAAAj/tkthao219-quby.gif","https://media.tenor.com/JtV9gaxyavAAAAAj/peach-cat.gif","https://media.tenor.com/GTjXEnuTUUMAAAAj/loved-love.gif","https://media.tenor.com/7r6lLYznnTsAAAAj/sticker-cartoon.gif","https://media.tenor.com/Ck3Q6OuFmzQAAAAj/animated-stickers-good-morning.gif","https://media.tenor.com/nQUJSVnPH8sAAAAj/tkthao219-quby.gif","https://media.tenor.com/senzjQZHOZwAAAAj/hasher-sticker.gif","https://media.tenor.com/b87Ur_ijFF0AAAAj/char.gif","https://media.tenor.com/xPDDnUtYMS0AAAAj/line-sticker-thank-you-sticker.gif","https://media.tenor.com/ua3mX1agSvoAAAAj/hasher-sticker.gif","https://media.tenor.com/83rrChRnhVwAAAAj/tkthao219-quby.gif"];function qe(i,e,s){const t=i.slice();return t[16]=e[s],t}function Ve(i){let e,s,t,a="Emojis",r,l,u="stickers",A,n,p,E,S,o=i[1]===i[3].EMOJI&&He(),f=i[1]===i[3].STICKER&&ze(i);return{c(){e=y("div"),s=y("div"),t=y("h5"),t.textContent=a,r=P(),l=y("h5"),l.textContent=u,A=P(),n=y("div"),o&&o.c(),p=P(),f&&f.c(),this.h()},l(b){e=k(b,"DIV",{class:!0});var d=T(e);s=k(d,"DIV",{class:!0});var _=T(s);t=k(_,"H5",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-wn67si"&&(t.textContent=a),r=U(_),l=k(_,"H5",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-1gj1sgi"&&(l.textContent=u),_.forEach(m),A=U(d),n=k(d,"DIV",{class:!0});var v=T(n);o&&o.l(v),p=U(v),f&&f.l(v),v.forEach(m),d.forEach(m),this.h()},h(){c(t,"class","montserrat-alternates-bold svelte-1s5h8gr"),ae(t,"activeTab",i[1]===i[3].EMOJI),c(l,"class","activeTab montserrat-alternates-bold svelte-1s5h8gr"),ae(l,"activeTab",i[1]===i[3].STICKER),c(s,"class","tab svelte-1s5h8gr"),c(n,"class","mojis svelte-1s5h8gr"),c(e,"class","emojisBX svelte-1s5h8gr")},m(b,d){L(b,e,d),g(e,s),g(s,t),g(s,r),g(s,l),g(e,A),g(e,n),o&&o.m(n,null),g(n,p),f&&f.m(n,null),E||(S=[J(t,"click",i[9]),J(l,"click",i[10])],E=!0)},p(b,d){d&10&&ae(t,"activeTab",b[1]===b[3].EMOJI),d&10&&ae(l,"activeTab",b[1]===b[3].STICKER),b[1]===b[3].EMOJI?o||(o=He(),o.c(),o.m(n,p)):o&&(o.d(1),o=null),b[1]===b[3].STICKER?f?f.p(b,d):(f=ze(b),f.c(),f.m(n,null)):f&&(f.d(1),f=null)},d(b){b&&m(e),o&&o.d(),f&&f.d(),E=!1,Re(S)}}}function He(i){let e;return{c(){e=y("div"),this.h()},l(s){e=k(s,"DIV",{class:!0}),T(e).forEach(m),this.h()},h(){c(e,"class","caritasBX svelte-1s5h8gr")},m(s,t){L(s,e,t)},d(s){s&&m(e)}}}function ze(i){let e,s=le(Be),t=[];for(let a=0;a<s.length;a+=1)t[a]=Ne(qe(i,s,a));return{c(){e=y("div");for(let a=0;a<t.length;a+=1)t[a].c();this.h()},l(a){e=k(a,"DIV",{class:!0});var r=T(e);for(let l=0;l<t.length;l+=1)t[l].l(r);r.forEach(m),this.h()},h(){c(e,"class","stickersBX svelte-1s5h8gr")},m(a,r){L(a,e,r);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(a,r){if(r&32){s=le(Be);let l;for(l=0;l<s.length;l+=1){const u=qe(a,s,l);t[l]?t[l].p(u,r):(t[l]=Ne(u),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},d(a){a&&m(e),Me(t,a)}}}function Ne(i){let e,s,t,a;function r(){return i[11](i[16])}return{c(){e=y("img"),this.h()},l(l){e=k(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){te(e.src,s=i[16])||c(e,"src",s),c(e,"alt","sticker"),c(e,"class","svelte-1s5h8gr")},m(l,u){L(l,e,u),t||(a=J(e,"click",r),t=!0)},p(l,u){i=l},d(l){l&&m(e),t=!1,a()}}}function It(i){let e,s,t,a='<button class="montserrat-alternates-bold svelte-1s5h8gr" style="font-size:1.3rem;">T</button>',r,l,u,A,n,p='<i class="fa-solid fa-image svelte-1s5h8gr"></i>',E,S,o,f,b,d,_,v,I,D,B,M=i[0]&&Ve(i);return{c(){e=y("div"),s=y("div"),t=y("div"),t.innerHTML=a,r=P(),l=y("div"),u=y("input"),A=P(),n=y("label"),n.innerHTML=p,E=P(),S=y("div"),o=y("button"),f=y("i"),d=P(),_=y("div"),v=y("i"),I=P(),M&&M.c(),this.h()},l(q){e=k(q,"DIV",{class:!0});var V=T(e);s=k(V,"DIV",{class:!0});var X=T(s);t=k(X,"DIV",{class:!0,"data-svelte-h":!0}),W(t)!=="svelte-1j7ahwz"&&(t.innerHTML=a),r=U(X),l=k(X,"DIV",{class:!0});var Q=T(l);u=k(Q,"INPUT",{type:!0,accept:!0,id:!0}),A=U(Q),n=k(Q,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),W(n)!=="svelte-r2pi9w"&&(n.innerHTML=p),Q.forEach(m),E=U(X),S=k(X,"DIV",{class:!0});var se=T(S);o=k(se,"BUTTON",{class:!0});var ge=T(o);f=k(ge,"I",{class:!0}),T(f).forEach(m),ge.forEach(m),se.forEach(m),X.forEach(m),d=U(V),_=k(V,"DIV",{class:!0});var C=T(_);v=k(C,"I",{class:!0}),T(v).forEach(m),I=U(C),M&&M.l(C),C.forEach(m),V.forEach(m),this.h()},h(){c(t,"class","txtStyle svelte-1s5h8gr"),c(u,"type","file"),c(u,"accept","image/*"),u.hidden=!0,c(u,"id","upImg"),c(n,"for","upImg"),c(n,"class","svelte-1s5h8gr"),c(l,"class","sendImg svelte-1s5h8gr"),c(f,"class",b=re(`fa-solid fa-microphone ${i[2]?"rec":"stop"}`)+" svelte-1s5h8gr"),c(o,"class","svelte-1s5h8gr"),c(S,"class","sendAudio svelte-1s5h8gr"),c(s,"class","main svelte-1s5h8gr"),c(v,"class","fa-solid fa-face-grin-beam svelte-1s5h8gr"),c(_,"class","emojis svelte-1s5h8gr"),c(e,"class","tools svelte-1s5h8gr")},m(q,V){L(q,e,V),g(e,s),g(s,t),g(s,r),g(s,l),g(l,u),g(l,A),g(l,n),g(s,E),g(s,S),g(S,o),g(o,f),g(e,d),g(e,_),g(_,v),g(_,I),M&&M.m(_,null),D||(B=[J(u,"change",i[7]),J(o,"click",i[6]),J(v,"click",i[8])],D=!0)},p(q,[V]){V&4&&b!==(b=re(`fa-solid fa-microphone ${q[2]?"rec":"stop"}`)+" svelte-1s5h8gr")&&c(f,"class",b),q[0]?M?M.p(q,V):(M=Ve(q),M.c(),M.m(_,null)):M&&(M.d(1),M=null)},i:G,o:G,d(q){q&&m(e),M&&M.d(),D=!1,Re(B)}}}const Je="https://frensgo.lat";function wt(i,e,s){let t;N(i,ie,I=>s(13,t=I));var a=(I=>(I.EMOJI="emoji",I.STICKER="sticker",I))(a||{});let r=!1,l="sticker";function u(I){l!==I&&s(1,l=I)}function A(I){t.send(JSON.stringify({type:"STICKER",msg:I})),s(0,r=!1)}let n=null,p=!1;function E(){n||p||navigator.mediaDevices&&navigator.mediaDevices.getUserMedia({audio:!0}).then(I=>{n=new MediaRecorder(I);let D=[];n.ondataavailable=B=>{D.push(B.data)},n.onstop=async()=>{const B=new Blob(D,{type:"audio/ogg;codecs=opus"});D=[];const M=new FormData;M.append("audio",B);const V=await(await fetch(`${Je}/audio`,{method:"POST",body:M})).text();t.send(JSON.stringify({type:"AUDIO",msg:V}))},n.start(),s(2,p=!0)}).catch(I=>console.log(I))}function S(){n&&p&&(n.stop(),n=null,s(2,p=!1))}function o(){p?S():E()}async function f(I){const D=I.target.files[0];if(D.size>5e6){alert("La imágen es muy pesada");return}if(!/^image\/....?$/.test(D.type)){alert("Por favor elija una imágen válida");return}const B=new FormData;B.append("image",D);const q=await(await fetch(`${Je}/upImg`,{method:"POST",body:B})).text();t.send(JSON.stringify({type:"IMG",msg:q}))}return[r,l,p,a,u,A,o,f,()=>s(0,r=!r),()=>{u(a.EMOJI)},()=>{u(a.STICKER)},I=>A(I)]}class Et extends me{constructor(e){super(),pe(this,e,wt,It,he,{})}}function Tt(i){let e,s,t,a,r,l,u;return{c(){e=y("div"),s=y("i"),t=P(),a=y("img"),this.h()},l(A){e=k(A,"DIV",{class:!0});var n=T(e);s=k(n,"I",{class:!0}),T(s).forEach(m),t=U(n),a=k(n,"IMG",{src:!0,alt:!0,class:!0}),n.forEach(m),this.h()},h(){c(s,"class","fas fa-times svelte-6bka76"),te(a.src,r=i[1])||c(a,"src",r),c(a,"alt","Una imagen"),c(a,"class","svelte-6bka76"),c(e,"class","modal svelte-6bka76")},m(A,n){L(A,e,n),g(e,s),g(e,t),g(e,a),l||(u=J(s,"click",i[2]),l=!0)},p(A,[n]){n&2&&!te(a.src,r=A[1])&&c(a,"src",r)},i:G,o:G,d(A){A&&m(e),l=!1,u()}}}function jt(i,e,s){let t,a;return N(i,be,l=>s(0,t=l)),N(i,we,l=>s(1,a=l)),[t,a,()=>$(be,t=!1,t)]}class St extends me{constructor(e){super(),pe(this,e,jt,Tt,he,{})}}function Ke(i,e,s){const t=i.slice();return t[16]=e[s][0],t[17]=e[s][1],t}function Fe(i,e,s){const t=i.slice();return t[20]=e[s],t}function Ge(i){let e,s;return e=new At({props:{msg:"Aver si nos calmamos un poquito :)",time:5e3}}),{c(){ce(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),s=!0},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){de(e,t)}}}function Xe(i){let e,s;return e=new St({}),{c(){ce(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),s=!0},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){de(e,t)}}}function Qe(i){let e,s;return e=new mt({props:{data:i[20]}}),{c(){ce(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),s=!0},p(t,a){const r={};a&8&&(r.data=t[20]),e.$set(r)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){de(e,t)}}}function Ye(i){let e,s;return e=new _t({props:{id:i[16],data:i[17]}}),{c(){ce(e.$$.fragment)},l(t){ue(e.$$.fragment,t)},m(t,a){fe(e,t,a),s=!0},p(t,a){const r={};a&4&&(r.id=t[16]),a&4&&(r.data=t[17]),e.$set(r)},i(t){s||(z(e.$$.fragment,t),s=!0)},o(t){K(e.$$.fragment,t),s=!1},d(t){de(e,t)}}}function Mt(i){let e,s,t,a,r,l,u,A,n,p,E,S,o,f,b,d='<i class="fa-solid fa-paper-plane svelte-1sntau9"></i>',_,v,I,D,B=i[2].size+"",M,q,V,X,Q,se,ge,C=i[4]&&Ge(),H=i[5]&&i[6]&&Xe();t=new lt({});let Z=le(i[3]),R=[];for(let h=0;h<Z.length;h+=1)R[h]=Qe(Fe(i,Z,h));const Ze=h=>K(R[h],1,1,()=>{R[h]=null});p=new Et({});let x=le(i[2].entries()),O=[];for(let h=0;h<x.length;h+=1)O[h]=Ye(Ke(i,x,h));const xe=h=>K(O[h],1,1,()=>{O[h]=null});return{c(){C&&C.c(),e=P(),H&&H.c(),s=P(),ce(t.$$.fragment),a=P(),r=y("section"),l=y("article"),u=y("div");for(let h=0;h<R.length;h+=1)R[h].c();A=P(),n=y("div"),ce(p.$$.fragment),E=P(),S=y("form"),o=y("input"),f=P(),b=y("button"),b.innerHTML=d,_=P(),v=y("article"),I=y("h3"),D=oe("Usuarios conectados: "),M=oe(B),q=P(),V=y("div");for(let h=0;h<O.length;h+=1)O[h].c();this.h()},l(h){C&&C.l(h),e=U(h),H&&H.l(h),s=U(h),ue(t.$$.fragment,h),a=U(h),r=k(h,"SECTION",{class:!0});var j=T(r);l=k(j,"ARTICLE",{class:!0});var w=T(l);u=k(w,"DIV",{class:!0});var Y=T(u);for(let ee=0;ee<R.length;ee+=1)R[ee].l(Y);Y.forEach(m),A=U(w),n=k(w,"DIV",{class:!0});var _e=T(n);ue(p.$$.fragment,_e),E=U(_e),S=k(_e,"FORM",{class:!0});var ye=T(S);o=k(ye,"INPUT",{class:!0,type:!0,placeholder:!0,maxlength:!0,minlength:!0}),f=U(ye),b=k(ye,"BUTTON",{class:!0,"data-svelte-h":!0}),W(b)!=="svelte-1m1u804"&&(b.innerHTML=d),ye.forEach(m),_e.forEach(m),w.forEach(m),_=U(j),v=k(j,"ARTICLE",{class:!0});var ke=T(v);I=k(ke,"H3",{class:!0});var je=T(I);D=ne(je,"Usuarios conectados: "),M=ne(je,B),je.forEach(m),q=U(ke),V=k(ke,"DIV",{class:!0});var Oe=T(V);for(let ee=0;ee<O.length;ee+=1)O[ee].l(Oe);Oe.forEach(m),ke.forEach(m),j.forEach(m),this.h()},h(){c(u,"class","chat svelte-1sntau9"),c(o,"class","montserrat-alternates-regular svelte-1sntau9"),c(o,"type","text"),c(o,"placeholder","Escribe tu mensaje..."),c(o,"maxlength","120"),c(o,"minlength","1"),c(b,"class","svelte-1sntau9"),c(S,"class","svelte-1sntau9"),c(n,"class","msg svelte-1sntau9"),c(l,"class","chatBX svelte-1sntau9"),c(I,"class","montserrat-alternates-bold svelte-1sntau9"),c(V,"class","userlist svelte-1sntau9"),c(v,"class",X=re(`users ${i[7]?"showUserlist":""}`)+" svelte-1sntau9"),c(r,"class","svelte-1sntau9")},m(h,j){C&&C.m(h,j),L(h,e,j),H&&H.m(h,j),L(h,s,j),fe(t,h,j),L(h,a,j),L(h,r,j),g(r,l),g(l,u);for(let w=0;w<R.length;w+=1)R[w]&&R[w].m(u,null);i[9](u),g(l,A),g(l,n),fe(p,n,null),g(n,E),g(n,S),g(S,o),Ue(o,i[0]),g(S,f),g(S,b),g(r,_),g(r,v),g(v,I),g(I,D),g(I,M),g(v,q),g(v,V);for(let w=0;w<O.length;w+=1)O[w]&&O[w].m(V,null);Q=!0,se||(ge=[J(o,"input",i[10]),J(S,"submit",at(i[8]))],se=!0)},p(h,[j]){if(h[4]?C?j&16&&z(C,1):(C=Ge(),C.c(),z(C,1),C.m(e.parentNode,e)):C&&(Ie(),K(C,1,1,()=>{C=null}),Ae()),h[5]&&h[6]?H?j&96&&z(H,1):(H=Xe(),H.c(),z(H,1),H.m(s.parentNode,s)):H&&(Ie(),K(H,1,1,()=>{H=null}),Ae()),j&8){Z=le(h[3]);let w;for(w=0;w<Z.length;w+=1){const Y=Fe(h,Z,w);R[w]?(R[w].p(Y,j),z(R[w],1)):(R[w]=Qe(Y),R[w].c(),z(R[w],1),R[w].m(u,null))}for(Ie(),w=Z.length;w<R.length;w+=1)Ze(w);Ae()}if(j&1&&o.value!==h[0]&&Ue(o,h[0]),(!Q||j&4)&&B!==(B=h[2].size+"")&&ve(M,B),j&4){x=le(h[2].entries());let w;for(w=0;w<x.length;w+=1){const Y=Ke(h,x,w);O[w]?(O[w].p(Y,j),z(O[w],1)):(O[w]=Ye(Y),O[w].c(),z(O[w],1),O[w].m(V,null))}for(Ie(),w=x.length;w<O.length;w+=1)xe(w);Ae()}(!Q||j&128&&X!==(X=re(`users ${h[7]?"showUserlist":""}`)+" svelte-1sntau9"))&&c(v,"class",X)},i(h){if(!Q){z(C),z(H),z(t.$$.fragment,h);for(let j=0;j<Z.length;j+=1)z(R[j]);z(p.$$.fragment,h);for(let j=0;j<x.length;j+=1)z(O[j]);Q=!0}},o(h){K(C),K(H),K(t.$$.fragment,h),R=R.filter(Boolean);for(let j=0;j<R.length;j+=1)K(R[j]);K(p.$$.fragment,h),O=O.filter(Boolean);for(let j=0;j<O.length;j+=1)K(O[j]);Q=!1},d(h){h&&(m(e),m(s),m(a),m(r)),C&&C.d(h),H&&H.d(h),de(t,h),Me(R,h),i[9](null),de(p),Me(O,h),se=!1,Re(ge)}}}function Ct(i){i.scroll({top:i.scrollHeight,behavior:"smooth"})}function Rt(i,e,s){let t,a,r,l,u,A,n;N(i,ie,v=>s(11,t=v)),N(i,Ee,v=>s(4,a=v)),N(i,$e,v=>s(12,r=v)),N(i,Te,v=>s(13,l=v)),N(i,be,v=>s(5,u=v)),N(i,we,v=>s(6,A=v)),N(i,tt,v=>s(7,n=v));let p="",E=null,S=[],o=[{username:"frensgo :",body:`Bienvenido a la sala ${l.room}`,type:"bot"}];Ce(()=>{t.send(JSON.stringify({type:"GETUSERLIST"}))}),We(()=>{t.close(),$(ie,t=null,t)});function f(v,I){switch(v){case"USERLIST":const D=new Map(I);s(2,S=D);break;case"NEW_USER":const B={username:"frensgo :",body:I,type:"bot"};o.push(B),s(3,o);break;case"BYE_USER":const M={username:"frensgo :",body:I,type:"bot"};o.push(M),s(3,o);break;case"ROOM_MSG":if(r.has(I.username))return;if(o.push({...I,type:"room"}),s(3,o),o.length>=100){s(3,o=[]);const q={username:"frensgo :",body:"Limpieza automática activada",type:"bot"};o.push(q),s(3,o)}setTimeout(()=>Ct(E),.1);break;case"CALM":$(Ee,a=!0,a);break;case"AUDIO":o.push({...I,type:"audio"}),s(3,o);break;case"IMG":o.push({...I,type:"image"}),s(3,o);break;case"STICKER":o.push({...I,type:"sticker"}),s(3,o);break}}$(ie,t.onmessage=v=>{const{type:I,msg:D}=JSON.parse(v.data);f(I,D)},t),$(ie,t.onclose=()=>{rt("/rooms")},t);function b(){!p||p.length===0||p.length>120||(t.send(JSON.stringify({type:"ROOM_MSG",msg:p.trim()})),s(0,p=""))}function d(v){it[v?"unshift":"push"](()=>{E=v,s(1,E)})}function _(){p=this.value,s(0,p)}return[p,E,S,o,a,u,A,n,b,d,_]}class qt extends me{constructor(e){super(),pe(this,e,Rt,Mt,he,{})}}export{qt as component,Bt as universal};
