import{m as O,s as E,r as j}from"../chunks/index.Darzg56o.js";import{s as D,n as I,c as P,d as N}from"../chunks/scheduler.CHVDA16w.js";import{S as J,i as x,e as g,t as k,s as H,c as v,a as p,b as w,d,f as L,n as S,g as z,h as _,p as G,j as y,y as M,z as V,A as W,k as U,u as K,l as C,B as F,C as Q,w as X}from"../chunks/index.Dae8QIfg.js";import{N as Y,e as R}from"../chunks/Navbar.DJUwmEJ3.js";import{g as Z}from"../chunks/entry.oMPMOxvS.js";const $="https://frensgo.lat";async function ee(){let l;O.subscribe(n=>l=n),E.subscribe(n=>n);const e=await fetch(`${$}/getRooms`);if(!e.ok)throw j(307,"/");const o=await e.text(),t=JSON.parse(o);if(l)return{data:t};throw j(307,"/")}const ue=Object.freeze(Object.defineProperty({__proto__:null,load:ee},Symbol.toStringTag,{value:"Module"}));function te(l){let e,o,t,n,i,a,h,s,c,r,m;return{c(){e=g("article"),o=g("h2"),t=k(l[0]),n=H(),i=g("div"),a=g("p"),h=k(l[2]),s=k(" / "),c=k(l[1]),this.h()},l(u){e=v(u,"ARTICLE",{class:!0});var f=p(e);o=v(f,"H2",{class:!0});var q=p(o);t=w(q,l[0]),q.forEach(d),n=L(f),i=v(f,"DIV",{});var T=p(i);a=v(T,"P",{class:!0});var b=p(a);h=w(b,l[2]),s=w(b," / "),c=w(b,l[1]),b.forEach(d),T.forEach(d),f.forEach(d),this.h()},h(){S(o,"class","montserrat-alternates-bold svelte-zk5aq3"),S(a,"class","montserrat-alternates-bold svelte-zk5aq3"),S(e,"class","svelte-zk5aq3")},m(u,f){z(u,e,f),_(e,o),_(o,t),_(e,n),_(e,i),_(i,a),_(a,h),_(a,s),_(a,c),r||(m=G(e,"click",l[5]),r=!0)},p(u,[f]){f&1&&y(t,u[0]),f&4&&y(h,u[2]),f&2&&y(c,u[1])},i:I,o:I,d(u){u&&d(e),r=!1,m()}}}const se="wss://frensgo.lat";function ae(l,e,o){let t,n;P(l,E,m=>o(6,t=m)),P(l,O,m=>o(7,n=m));let{name:i}=e,{maxUsers:a}=e,{connectedUsers:h}=e,{value:s}=e;function c(m){n&&(N(O,n={...n,room:m},n),N(E,t=new WebSocket(`${se}/chat?room=${n.room}&nick=${n.username}`),t),N(E,t.onmessage=u=>{const{type:f}=JSON.parse(u.data);f&&f==="CONNECTED"&&Z("/chat")},t))}const r=()=>c(s);return l.$$set=m=>{"name"in m&&o(0,i=m.name),"maxUsers"in m&&o(1,a=m.maxUsers),"connectedUsers"in m&&o(2,h=m.connectedUsers),"value"in m&&o(3,s=m.value)},[i,a,h,s,c,r]}class ne extends J{constructor(e){super(),x(this,e,ae,te,D,{name:0,maxUsers:1,connectedUsers:2,value:3})}}function A(l,e,o){const t=l.slice();return t[1]=e[o],t}function B(l){let e,o;return e=new ne({props:{name:l[1].name,value:l[1].value,maxUsers:l[1].maxUsers,connectedUsers:l[1].connectedUsers}}),{c(){M(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,n){W(e,t,n),o=!0},p(t,n){const i={};n&1&&(i.name=t[1].name),n&1&&(i.value=t[1].value),n&1&&(i.maxUsers=t[1].maxUsers),n&1&&(i.connectedUsers=t[1].connectedUsers),e.$set(i)},i(t){o||(U(e.$$.fragment,t),o=!0)},o(t){C(e.$$.fragment,t),o=!1},d(t){F(e,t)}}}function re(l){let e,o,t,n;e=new Y({});let i=R(l[0].data),a=[];for(let s=0;s<i.length;s+=1)a[s]=B(A(l,i,s));const h=s=>C(a[s],1,1,()=>{a[s]=null});return{c(){M(e.$$.fragment),o=H(),t=g("section");for(let s=0;s<a.length;s+=1)a[s].c();this.h()},l(s){V(e.$$.fragment,s),o=L(s),t=v(s,"SECTION",{class:!0});var c=p(t);for(let r=0;r<a.length;r+=1)a[r].l(c);c.forEach(d),this.h()},h(){S(t,"class","svelte-1alcno")},m(s,c){W(e,s,c),z(s,o,c),z(s,t,c);for(let r=0;r<a.length;r+=1)a[r]&&a[r].m(t,null);n=!0},p(s,[c]){if(c&1){i=R(s[0].data);let r;for(r=0;r<i.length;r+=1){const m=A(s,i,r);a[r]?(a[r].p(m,c),U(a[r],1)):(a[r]=B(m),a[r].c(),U(a[r],1),a[r].m(t,null))}for(X(),r=i.length;r<a.length;r+=1)h(r);K()}},i(s){if(!n){U(e.$$.fragment,s);for(let c=0;c<i.length;c+=1)U(a[c]);n=!0}},o(s){C(e.$$.fragment,s),a=a.filter(Boolean);for(let c=0;c<a.length;c+=1)C(a[c]);n=!1},d(s){s&&(d(o),d(t)),F(e,s),Q(a,s)}}}function oe(l,e,o){let{data:t}=e;return l.$$set=n=>{"data"in n&&o(0,t=n.data)},[t]}class he extends J{constructor(e){super(),x(this,e,oe,re,D,{data:0})}}export{he as component,ue as universal};
